# üß≤ Magnetic Field Simulator (FEM Based)
# [Click here for Korean!](https://lcp020620.github.io/magnetic-field-simulator.github.io/)

## **[Click Here to download!](https://github.com/lcp020620/magnetic-field-simulator.github.io/archive/refs/heads/main.zip)**

## üõ†Ô∏è **Language and Libraries used in this project**

In order to implement High-performance GPU computations and interactive 3D visualization, I used libraries below.

| Language | Library | Purpose | Official Document url |
| :--- | :--- | :--- | :---: |
| **Python** | **CuPy** | GPU based Parallel computing | [CuPy](https://cupy.dev) |
| | **NumPy** | Post-processing of GPU computation results | [Numpy](https://numpy.org/) |
| | **Flask** | Constructing Local web server for Magnetic field data interactions | [Flask](https://flask.palletsprojects.com) |
| **JavaScript** | **Three.js** | Real-time Magnetic field visualization via web browser | [Three.js](https://threejs.org) |

**"Reveal the invisible world of Magnetic field!"**  
This project calculates and visualizes magnitude and direction of magnetic field in each point generated by user-given electric current, using [Finite Element Method](https://en.wikipedia.org/wiki/Finite_element_method).

For **research** and **education** purpose, you can use this whatever you like. (Code modification is allowed, secondary distribution is not allowed.)

**[COMSOL](https://www.comsol.com/) is too expensive! I made this for moneyless students**

**You can run this in Google Colab WITHOUT any graphics card!**

---

## **Introduction & Google Colab**
Youtube video instructions are ready! (English subtitle is ready)

| üé• Overall Instruction | üíª How to use this on Google Colab |
| :---: | :---: |
| [![Intro](https://img.youtube.com/vi/XghdGBYB3hE/0.jpg)](https://youtu.be/XghdGBYB3hE) | [![Colab](https://img.youtube.com/vi/CR1B1KkAaRE/0.jpg)](https://youtu.be/CR1B1KkAaRE) |
| *Introducing overall features* | *Run this on web browser without GPU* |

---

## **Key Features**
- **3D Vector Visualization**: Real-time visualization of vector direction and magnitude at each point. (This code visualizes any `.csv` file containing 6 columns!)
- **User-given Electric Currents**: Free to arrange shape(circle or line), intensity(Ampere), and position(3D vector) of the Electric current.
- **Mesh dense and size adjustment**: Adjust simulation space and resolution via Mesh Dense and size variables.
- **Download Magnetic field data**: Download computation results as `.csv` format in order to see it on [Microsoft Excel](https://www.microsoft.com/ko-kr/microsoft-365/excel) or else.

---

## **üõ† To run this in your computer, You need NVIDIA graphics card! If you don't have one, run this in [Google Colab](https://colab.google/)**
This project implements High-performance computations via **NVIDIA GPU(CUDA)**
- **GPU**: Can run ONLY on NVIDIA graphics card.
- **Auto Setup**: Execute `run.bat` file by double click. It will install necessary libraries automatically in virtual environment.
- **My setup**: CUDA 13.1, CuPy 13.6.0, NumPy 2.4.0 (If something goes wrong with the libraries, try similar versions.)

---

## **üöÄ Brief instructions for who has GPU(Congrats! you are rich!)**

### 0. Download this porject
 - click [here](https://github.com/lcp020620/magnetic-field-simulator.github.io/archive/refs/heads/main.zip) and download ZIP file.
 - Unzip and open folder.

### 1. Execute `run.bat` file
 - You will see "Unknown publisher" warning at first. That's due to the absence of a digital signature certificate. There are no evil programs here. If you execute `run.bat` file, it will automatically generate virtual environment and download necessary libraries. If download is completed, `run.bat` will automatically initiate local server.
 - If interface window doesn't pop up, enter [127.0.0.1:5000](http://127.0.0.1:5000) in your web browser.

### 2. Simulation settings
- **Step 0**: Define size and mesh dense of your simulation space.
- **Step 1**: Add your electric current information into "Request list" by clicking "Request" button after you finish entering electric current informations(shape, intensity, coordinates).
- **Step 2**: Click "Start simulation" after your "Request list". It will compute via [CuPy Library](https://cupy.dev).

### 3. See results and terminate
- After the computation is complete, [Three.js](https://threejs.org) will automatically visualizes 3D magnetic field.
- Press **Download as .csv** button to save results as `.csv` format. Use this for further accurate analysis.
- Press **Simulation Turn Off** button to terminate the program. This button will completely terminate any background processes.

---

## ü§ù Any Help is Welcome!
This project is a one-person project developed to provide students with an academic tool to study magnetic fields for free.

Any feedback and assistance on these issues below is welcome!

1. **Magnetic field line visualization**: Need to visualize smooth lines, instead of dirty/unintuitive arrows.
2. `.exe` **format packaging**: [PyInstaller](https://pyinstaller.org) crashes if I try to export this project into single `.exe` package.
3. **Better visualization**: Reduce number of overlapping vectors. Or adjust individual opacity to see only important vectors.
4. **Make this into a server**: construct GPU server that can be accessed via low-performance devices. (Partially resolved via Google Colab)
5. **Improve UI/UX**: Children-friendly UI/UX. Or fix bug that `window.close()` does not work. (I think this is because of Chrome's security policy)

---

## üìù License
This project can be used freely for **Education and Research purpose**. You can use this without any permission for your class or personal studies!üéì

Code modification is always allowed.
Secondary distribution is not allowed. If you want to share, send url of this page.

---
*If you have any feedbacks or questions, ask me via github or email(lcp020620@kaist.ac.kr).*
